<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="index.css">
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <meta charset="utf-8">
        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->


        <title>LevelUp</title>
    </head>
    <body>

        <!--Level 1-->
    <div id="app">
        <div class = "container">




            <div class="row">

              <div class="col s12">
                <div class="card-panel light blue lighten-2">
                  <span class="white-text"> Level 1 <br>
                    <a class="waves-effect waves-light btn" id="create-assignment-lvl1" href="#create-assignment-modal">Create assignment</a>
                    <div class="row">
                        <assignments
                          v-for="item in assignmentList"
                          v-bind:entry="item"
                          v-bind:id="item.id"
                          v-bind:key="item.id"
                          v-bind:isrequired="item.required"
                          v-bind:submitted="item.submitted"
                          v-on:update-curr-open-assignment-id="updateCurrOpenAssignmentId">
                        </assignments>

                    </div>
                  </span>
                </div>
              </div>
            </div>

        </div>


        <div id="modal1" class="modal">
          <div class="modal-content">
            <h4>Assignment Title</h4>
            <p>Assignment Description: Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          </div>
            <div class = "container">
                <a v-on:click = "halfCredit" class="waves-effect waves-light btn">Half Credit?</a>
                <a v-on:click = "fullCredit" class="waves-effect waves-light btn">Full Credit?</a>
            </div>
          <div class="modal-footer">
            <a v-on:click = "submitAssign" href="#!" onclick="Materialize.toast('Assignment Graded!', 4000)" class="modal-action modal-close waves-effect waves-green btn-flat">Submit</a>
          </div>
        </div>

        <div id="create-assignment-modal" class="modal">
            <create-assignment
              v-on:create-assignment="addNewAssign">
            </create-assignment>
        </div>


        <span v-if="locked">
            <!--Locked Level 2-->
            <div class = "container">
                <div class="row">
                  <div class="col s12">
                    <div class="card-panel grey darken-2">
                      <span class="white-text">

                      <span v-for="n in keys">
                            <div class="overlapping">
                                <img src="ghostKey.png" height="27px" style="float: right;">
                                <img src="key.png" height="27px" style="float: right;" class="fadeImage overlap-bottom">
                            </div>

                      </span>
                      <span v-for="n in (keysToUnlock-keys)">
                        <img src="ghostKey.png" height="27px" style="float: right;">
                      </span>


                        <div id="progressbar">
                            <div v-bind:style="{ width: expBarPercent}"></div>
                        </div>
                        {{points}}/{{pointsToUnlock}}
                      </span>
                    </div>
                  </div>
                </div>
            </div>
        </span>
        <div v-else>
           <!--Level 2-->
           <div class = "container">
               <div class="row">
                 <div class="col s12">
                   <div class="card-panel light blue lighten-2">
                     <span class="white-text"> Level 2
                         <div class="row">
                           <div class="col s3">
                             <div class="card grey darken-1 darken-1">
                               <div class="card-content white-text">
                                 <span class="card-title">Assignment </span>
                                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                               </div>
                               <div class="card-action">
                                 <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                               </div>
                             </div>
                           </div>
                           <div class="col s3">
                             <div class="card grey darken-1 darken-1">
                               <div class="card-content white-text">
                                 <span class="card-title">Assignment </span>
                                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                               </div>
                               <div class="card-action">
                                 <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                               </div>
                             </div>
                           </div>
                           <div class="col s3">
                             <div class="card grey darken-1 darken-1">
                               <div class="card-content white-text">
                                 <span class="card-title">Assignment </span>
                                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                               </div>
                               <div class="card-action">
                                 <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                               </div>
                             </div>
                           </div>
                           <div class="col s3">
                             <div class="card grey darken-1 darken-1">
                               <div class="card-content white-text">
                                 <span class="card-title">Assignment </span>
                                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                               </div>
                               <div class="card-action">
                                 <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                               </div>
                             </div>
                           </div>
                         </div>
                         <div class="row">
                             <div class="col s3">
                               <div class="card grey darken-1 darken-1">
                                 <div class="card-content white-text">
                                   <span class="card-title">Assignment </span>
                                   <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                                 </div>
                                 <div class="card-action">
                                   <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                                 </div>
                               </div>
                             </div>
                             <div class="col s3">
                               <div class="card grey darken-1 darken-1">
                                 <div class="card-content white-text">
                                   <span class="card-title">Assignment </span>
                                   <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                                 </div>
                                 <div class="card-action">
                                   <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                                 </div>
                               </div>
                             </div>
                             <div class="col s3">
                               <div class="card grey darken-1 darken-1">
                                 <div class="card-content white-text">
                                   <span class="card-title">Assignment </span>
                                   <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                                 </div>
                                 <div class="card-action">
                                   <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                                 </div>
                               </div>
                             </div>
                           <div class="col s3">
                             <div class="card grey darken-1 darken-1">
                               <div class="card-content white-text">
                                 <span class="card-title">Assignment </span>
                                 <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,</p>
                               </div>
                               <div class="card-action">
                                 <a class="waves-effect waves-light btn modal-trigger" href="#modal1">Start</a>
                               </div>
                             </div>
                           </div>
                         </div>
                     </span>
                   </div>
                 </div>
               </div>
           </div>

       </div>
    </div>

    <template id="assignment-template">
        <div class="col s3">
            <div class="card grey darken-1" v-if="!submitted">
                <div class="card-content white-text">
                    <span class="card-title">
                        {{entry.title}}
                        <div class="overlapping">
                            <img v-if="isrequired" src="key.png" height="27px" style="float: right;">
                        </div>
                    </span>
                    <p>
                        {{entry.description}}
                    </p>
                </div>
                <div class="card-action">
                  <a class="waves-effect waves-light btn modal-trigger" href="#modal1" v-on:click="openAssign">Start</a>
                  <div style="float: right;">{{entry.earnedPoints}}/{{entry.points}}</div>
                </div>
            </div>
            <div class="card green darken-1" v-else>
                <div class="card-content white-text">
                    <span class="card-title">
                        {{entry.title}}
                        <div class="overlapping">
                            <img v-if="isrequired" src="key.png" height="27px" style="float: right;">
                            <img v-if="isrequired" src="ghostKey.png" height="27px" style="float: right;" class="fadeImage overlap-bottom">
                        </div>
                    </span>
                    <p>
                        {{entry.description}}
                    </p>
                </div>
                <div class="card-action">
                  <a class="waves-effect waves-light btn modal-trigger" href="#modal1" v-on:click="openAssign">Retry</a>
                  <div style="float: right;">{{entry.earnedPoints}}/{{entry.points}}</div>
                </div>
            </div>
        </div>
    </template>

    <template id="create-assignment-template">
            <div>
                <div class="modal-content">
                    <!-- @submit handles any form of submission. -->
                    <!-- .prevent keeps the event from bubbling around and doing anything else. -->
                    <form @submit.prevent="createAssign">

                        <div class="input-field col s6">
                            <label class="active" for="title-input">Title</label>
                            <input id="title-input" type="text" value="New Quest" v-model="title"/>
                        </div>

                        <div class="input-field col s6">
                            <label class="active" for="desc-input">Description</label>
                            <textarea class="materialize-textarea" id="desc-input" value="Slay the Quiz Dragon!!" v-model="desc"></textarea>
                        </div>


                        <div class="input-field col s6">
                          <label class="active" for="points-input">Points</label>
                          <input id="points-input" type="number" value="10" step="1" v-model="points"/>
                        </div>

                        <p>
                          <input type="checkbox" id="requiredCheck" v-model="required"/>
                          <label for="requiredCheck">Main Quest (required)?</label>
                        </p>
                        <button type="submit"  class="modal-action modal-close waves-effect waves-green btn-flat">Create</button>
                    </form>
              </div>
              <!-- <div class="modal-footer"> -->
                <!-- <a v-on:click = "submitAssign" href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Submit</a> -->
              <!-- </div> -->
          </div>
    </template>
















    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"></script>
    <script src="script.js"></script>

</body>
</html>